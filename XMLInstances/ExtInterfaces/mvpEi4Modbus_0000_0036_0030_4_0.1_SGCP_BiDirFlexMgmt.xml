<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<ModbusDeviceFrame xmlns="http://www.smartgridready.com/ns/V0/"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/EI-Modbus/SGrModbusEIDeviceFrame.xsd ">
  <deviceName>Template fuer SGCP Minimal valid Product</deviceName>
  <manufacturerName>Template SGr: hier Name des Herstellers eintragen</manufacturerName>
  <releaseNotes>
    <state>Draft</state>
  </releaseNotes>
  <specificationOwnerIdentification>0</specificationOwnerIdentification>
  <isLocalControl>true</isLocalControl>
  <deviceInformation>
    <legibleDescription>
      <textElement>Gerätebeschreibung einfügen</textElement>
      <language>de</language>
    </legibleDescription>
    <transportService>Modbus</transportService>
    <deviceCategory>SGCP</deviceCategory>
    <softwareRevision>0.0.0</softwareRevision>
    <hardwareRevision>0.0.0</hardwareRevision>
    <brandName>gibt es einen Markennamen?</brandName>
    <powerSource>unknown</powerSource>
    <nominalPower>Referenzleistung in kW</nominalPower>
    <manufacturerSpecificationIdentification>gibt es eine herstellersoezifischen Identifikation z.B. Gerätetypnummer)</manufacturerSpecificationIdentification>
    <manufacturerLabel>gibt es ein Label fuer eine Systemlösung</manufacturerLabel>
    <generalRemarks>Ersteller dieses Templates: SGr/cb</generalRemarks>
    <levelOfOperation>4</levelOfOperation>
  </deviceInformation>
  <modbusAttributes>
    <pollingLatencyMs>150</pollingLatencyMs>
  </modbusAttributes>
  <modbusInterfaceDescription>
    <modbusInterfaceSelection>TCPIP</modbusInterfaceSelection>
    <modbusTcp>
      <port>512</port>
      <address>
        <ipV4n1>192</ipV4n1>
        <ipV4n2>168</ipV4n2>
        <ipV4n3>1</ipV4n3>
        <ipV4n4>155</ipV4n4>
      </address>
      <slaveId>0</slaveId>
    </modbusTcp>
    <modbusRtu>
      <slaveAddr>10</slaveAddr>
      <baudRateSelected>19200</baudRateSelected>
      <byteLenSelected>8</byteLenSelected>
      <paritySelected>EVEN</paritySelected>
      <stopBitLenSelected>1</stopBitLenSelected>
      <serialInterfaceCapability>
        <baudRatesSupported>1200</baudRatesSupported>
        <baudRatesSupported>2400</baudRatesSupported>
        <baudRatesSupported>4800</baudRatesSupported>
        <baudRatesSupported>9600</baudRatesSupported>
        <baudRatesSupported>19200</baudRatesSupported>
        <baudRatesSupported>38400</baudRatesSupported>
        <baudRatesSupported>57600</baudRatesSupported>
        <baudRatesSupported>115200</baudRatesSupported>
        <byteLenSupported>8</byteLenSupported>
        <byteLenSupported>7</byteLenSupported>
        <paritySupported>EVEN</paritySupported>
        <paritySupported>NONE</paritySupported>
        <paritySupported>ODD</paritySupported>
        <stopBitLenSupported>0</stopBitLenSupported>
        <stopBitLenSupported>1</stopBitLenSupported>
      </serialInterfaceCapability>
    </modbusRtu>
    <firstRegisterAddressIsOne>true</firstRegisterAddressIsOne>
    <bitOrder>BigEndian</bitOrder>
  </modbusInterfaceDescription>
  <functionalProfileList>
    <functionalProfileListElement>
      <functionalProfile>
        <profileName>SGCPbiDirFlexMgmt</profileName>
        <functionalProfileIdentification>
          <specificationOwnerIdentification>0</specificationOwnerIdentification>
          <functionalProfileCategory>SGCP</functionalProfileCategory>
          <functionalProfileType>BiDirFlexMgmt</functionalProfileType>
          <levelOfOperation>4</levelOfOperation>
          <versionNumber>
            <primaryVersionNumber>0</primaryVersionNumber>
            <secondaryVersionNumber>1</secondaryVersionNumber>
            <subReleaseVersionNumber>2</subReleaseVersionNumber>
          </versionNumber>
        </functionalProfileIdentification>
        <legibleDescription>
          <textElement>Der Grid seitige Flex Manager steuert die Anlage über die Datenpunkte ReadinessState, ActivePowerActivation und RunState und liest ActualActivePower. </textElement>
          <language>de</language>
        </legibleDescription>
      </functionalProfile>
      <dataPointList>
        <dataPointListElement>
          <dataPoint>
            <datapointName>ActivePowerActivation</datapointName>
            <dataDirection>W</dataDirection>
            <presenceLevel>M</presenceLevel>
            <dataType>
              <boolean/>
            </dataType>
            <unit>NONE</unit>
            <legibleDescription>
              <textElement>
                On Off Befehl, Wirkleistung Flexibilität liefern ja/nein
                -Activation = true: Die Latenzeit beginnt mit dem Empfang dieses Befehls (WinTms)  
                -Activation= false: Die Leistungsanpassung wird über eine definierte Rampe zurückgenommen (RmpTms)
              </textElement>
              <language>de</language>
            </legibleDescription>
          </dataPoint>
          <modbusDataPointConfiguration>
            <modbusDataType>
              <int16/>
            </modbusDataType>
            <modbusFirstRegisterReference>
              <address>0</address>
              <bitRank>0</bitRank>
              <registerType>HoldRegister</registerType>
            </modbusFirstRegisterReference>
            <numberOfRegisters>1</numberOfRegisters>
            <masterFunctionsSupported>Primitives</masterFunctionsSupported>
          </modbusDataPointConfiguration>
          <blockCacheIdentification>ActivePowerState</blockCacheIdentification>
          <modbusAttributes>
            <scalingFactor>
              <multiplicator>1</multiplicator>
              <powerof10>0</powerof10>
            </scalingFactor>
          </modbusAttributes>
        </dataPointListElement>
        <dataPointListElement>
          <dataPoint>
            <datapointName>ReadinessState</datapointName>
            <dataDirection>R</dataDirection>
            <presenceLevel>M</presenceLevel>
            <dataType>
              <boolean/>
            </dataType>
            <unit>NONE</unit>
            <legibleDescription>
              <textElement>Status ready for flexibility. True wenn Anlage für den nächsten Flexibilitäts-Event bereit ist.</textElement>
              <language>de</language>
            </legibleDescription>
          </dataPoint>
          <modbusDataPointConfiguration>
            <modbusDataType>
              <int16/>
            </modbusDataType>
            <modbusFirstRegisterReference>
              <address>0</address>
              <bitRank>0</bitRank>
              <registerType>HoldRegister</registerType>
            </modbusFirstRegisterReference>
            <numberOfRegisters>1</numberOfRegisters>
            <masterFunctionsSupported>Primitives</masterFunctionsSupported>
          </modbusDataPointConfiguration>
          <blockCacheIdentification>ActivePowerState</blockCacheIdentification>
          <modbusAttributes>
            <scalingFactor>
              <multiplicator>1</multiplicator>
              <powerof10>0</powerof10>
            </scalingFactor>
          </modbusAttributes>
        </dataPointListElement>
        <dataPointListElement>
          <dataPoint>
            <datapointName>RunState</datapointName>
            <dataDirection>R</dataDirection>
            <presenceLevel>M</presenceLevel>
            <dataType>
              <boolean/>
            </dataType>
            <unit>NONE</unit>
            <legibleDescription>
              <textElement>Status running for flexibility. True wenn Anlage läuft für Flexibilität.</textElement>
              <language>de</language>
            </legibleDescription>
          </dataPoint>
          <modbusDataPointConfiguration>
            <modbusDataType>
              <int16/>
            </modbusDataType>
            <modbusFirstRegisterReference>
              <address>0</address>
              <bitRank>0</bitRank>
              <registerType>HoldRegister</registerType>
            </modbusFirstRegisterReference>
            <numberOfRegisters>1</numberOfRegisters>
            <masterFunctionsSupported>Primitives</masterFunctionsSupported>
          </modbusDataPointConfiguration>
          <blockCacheIdentification>ActivePowerState</blockCacheIdentification>
          <modbusAttributes>
            <scalingFactor>
              <multiplicator>1</multiplicator>
              <powerof10>0</powerof10>
            </scalingFactor>
          </modbusAttributes>
        </dataPointListElement>
        <dataPointListElement>
          <dataPoint>
            <datapointName>ActualActivePower</datapointName>
            <dataDirection>R</dataDirection>
            <presenceLevel>M</presenceLevel>
            <dataType>
              <float64/>
            </dataType>
            <unit>KILOWATTS</unit>
            <legibleDescription>
              <textElement>
                Momentane Leistung. Betrag und Richtung des Energieflusses.
                + entspricht Energiebezug aus dem Netz oder Erhöhung des Bezugs
              </textElement>
              <language>de</language>
            </legibleDescription>
          </dataPoint>
          <modbusDataPointConfiguration>
            <modbusDataType>
              <float32/>
            </modbusDataType>
            <modbusFirstRegisterReference>
              <address>0</address>
              <bitRank>0</bitRank>
              <registerType>HoldRegister</registerType>
            </modbusFirstRegisterReference>
            <numberOfRegisters>2</numberOfRegisters>
            <masterFunctionsSupported>Primitives</masterFunctionsSupported>
          </modbusDataPointConfiguration>
          <blockCacheIdentification>ActivePowerState</blockCacheIdentification>
          <modbusAttributes>
            <scalingFactor>
              <multiplicator>1</multiplicator>
              <powerof10>-1</powerof10>
            </scalingFactor>
          </modbusAttributes>
        </dataPointListElement>
      </dataPointList>
    </functionalProfileListElement>
  </functionalProfileList>
  <timeSyncBlockNotification>
    <blockCacheIdentification>ActivePowerState</blockCacheIdentification>
    <firstAddress>0</firstAddress>
    <size>5</size>
    <registerType>HoldRegister</registerType>
    <timeToLiveMs>200</timeToLiveMs>
  </timeSyncBlockNotification>
</ModbusDeviceFrame>
