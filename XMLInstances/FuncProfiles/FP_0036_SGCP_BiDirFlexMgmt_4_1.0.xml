<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<FunctionalProfileFrame xmlns="http://www.smartgridready.com/ns/V0/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/SGrIncluder.xsd">
  <releaseNotes>
    <state>Published</state>
    <changeLog>
      <version>1.0.0</version>
      <date>2025-09-02</date>
      <author>CLAP/ga,SGr/mkr</author>
      <comment>Finalization</comment>
    </changeLog>
  </releaseNotes>
  <functionalProfile>
    <functionalProfileIdentification>
      <specificationOwnerIdentification>0</specificationOwnerIdentification>
      <functionalProfileCategory>SGCP</functionalProfileCategory>
      <functionalProfileType>BiDirFlexMgmt</functionalProfileType>
      <levelOfOperation>4</levelOfOperation>
      <versionNumber>
        <primaryVersionNumber>1</primaryVersionNumber>
        <secondaryVersionNumber>0</secondaryVersionNumber>
        <subReleaseVersionNumber>0</subReleaseVersionNumber>
      </versionNumber>
    </functionalProfileIdentification>
    <legibleDescription>
      <textElement>
        <![CDATA[
          <img src="ressources/fp_ems_to_pv_wp_evse.svg"/>
          <p>Controlling functional profile for flexible energy consumption of a product.</p>
          
          <p>This functional profile is typically used by the smart grid operator or balancing energy manager
          (communicator) to control an energy management system (EMS) as a product, for example.
          The system is controlled via the mandatory data points:
          <ul>
            <li><code>ReadinessState</code> (system is ready for flexibility)</li>
            <li><code>ActivePowerActivation</code> (flexibility is requested by the FlexManager)</li>
            <li><code>RunState</code> (flexibility request is active)</li>
            <li><code>ActualActivePower</code> (feedback)</li>
          </ul>
          The interface can be used for any energy storage systems that can support electrical flexibility.
          The other data points enable optional reactive power, storage level display, charging and discharging profiles, and
          specification of the available flexibility range (min/max kW / kVAR).
          Power specifications are from the consumer's perspective (+ corresponds to energy consumption
          from the grid or increase in consumption).</p>
        ]]>
      </textElement>
      <language>en</language>
    </legibleDescription>
    <legibleDescription>
      <textElement>
        <![CDATA[
          <img src="ressources/fp_ems_to_pv_wp_evse.svg"/>
          <p>Steuerndes Funktionsprofil für die flexible Steuerung des Energieverbrauchs eines Produktes.</p>
          
          <p>Dieses Funktionsprofil wird in der Regel vom Smart Grid Operator oder Regelenergie-
          Manager (Communicator) verwendet, um z.B. ein Energiemanagement-System (EMS) als Produkt anzusteuern.
          Die Steuerung der Anlage erfolgt über die obligatorischen Datenpunkte:
          <ul>
            <li><code>ReadinessState</code> (Anlage ist bereit für Flexibilität)</li>
            <li><code>ActivePowerActivation</code> (Flexibilität wird vom FlexManager abgerufen)</li>
            <li><code>RunState</code> (Flexibilitätsabruf ist aktiv)</li>
            <li><code>ActualActivePower</code> (Rückmeldung)</li>
          </ul>
          Die Schnittstelle ist für beliebige Energiespeicher, welche elektrische Flexibilität unterstützen können,
          nutzbar. Die weiteren Datenpunkte ermöglichen optional Blindleistung, Speicherstands-Anzeige, Lade- und Entladeprofile sowie die
          Angabe des verfügbaren Flexibilitätsbereiches (min/max kW / kVAR). Leistungsangaben sind aus Sicht Bezüger (+ entspricht Energiebezug
          aus dem Netz oder Erhöhung des Bezugs).</p>
        ]]>
      </textElement>
      <language>de</language>
    </legibleDescription>
  </functionalProfile>
  <dataPointList>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ActivePowerActivation</dataPointName>
        <dataDirection>W</dataDirection>
        <presenceLevel>M</presenceLevel>
        <dataType>
          <boolean />
        </dataType>
        <unit>NONE</unit>
        <legibleDescription>
          <textElement>
            <![CDATA[
              On-off command, flexibility of active power yes/no:
              <ul>
                <li><code>true</code>: The latency period begins when this command is received (WinTms)</li>
                <li><code>false</code>: The power adjustment is lowered via a defined ramp (RmpTms)</li>
              </ul>
            ]]>
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            <![CDATA[
              On-Off Befehl, Wirkleistung Flexibilität liefern ja/nein:
              <ul>
                <li><code>true</code>: Die Latenzzeit beginnt mit dem Empfang dieses Befehls (WinTms)</li>
                <li><code>false</code>: Die Leistungsanpassung wird über eine definierte Rampe zurückgenommen (RmpTms)</li>
              </ul>
            ]]>
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ReactivePowerActivation</dataPointName>
        <dataDirection>W</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <boolean />
        </dataType>
        <unit>NONE</unit>
        <legibleDescription>
          <textElement>On-off command, flexibility of reactive power yes/no</textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>On-Off Befehl, Blindleistung Flexibilität liefern ja/nein</textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>SetDeltaActivePower</dataPointName>
        <dataDirection>W</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATTS</unit>
        <legibleDescription>
          <textElement>
            Active power set point, +/-: Intended change of energy flow (+/-)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Wirkleistungsvorgabe, +/-: Angestrebte Veränderung des aktuellen Energieflusses (+/-)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>SetDeltaReactivePower</dataPointName>
        <dataDirection>W</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOVOLT_AMPERES_REACTIVE</unit>
        <legibleDescription>
          <textElement>
            Reactive power set point, +/-: Intended change of energy flow (+/-)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Blindleistungsvorgabe, +/-: Angestrebte Veränderung des aktuellen Energieflusses (+/-)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ReadinessState</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>M</presenceLevel>
        <dataType>
          <boolean />
        </dataType>
        <unit>NONE</unit>
        <legibleDescription>
          <textElement>
            <![CDATA[
              Readiness state of flexibility. <code>true</code> when device is ready for the next flexibility event.
            ]]>
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            <![CDATA[
              Bereitschaft für Flexibilität. <code>true</code> wenn Anlage für den nächsten Flexibilitäts-Event bereit ist.
            ]]>
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>RunState</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>M</presenceLevel>
        <dataType>
          <boolean />
        </dataType>
        <unit>NONE</unit>
        <legibleDescription>
          <textElement>
            <![CDATA[
              Activation state of flexibility. <code>true</code> when device is set to flexibility.
            ]]>
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            <![CDATA[
              Aktivität der Flexibilität. <code>true</code> wenn Anlage auf Flexibilität eingestellt ist.
            ]]>
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ActualActivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>M</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATTS</unit>
        <legibleDescription>
          <textElement>
            Current active power. Absolute value and direction of the energy flow.
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Momentane Wirkleistung. Betrag und Richtung des Energieflusses.
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ActualReactivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOVOLT_AMPERES_REACTIVE</unit>
        <legibleDescription>
          <textElement>
            Current reactive power. Absolute value and direction of the energy flow.
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Momentane Blindleistung. Betrag und Richtung des Energieflusses.
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MaxActivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATTS</unit>
        <legibleDescription>
          <textElement>
            Maximal controlled active power (actual value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Maximal steuerbare Wirkleistung (Momentanwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MaxReactivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOVOLT_AMPERES_REACTIVE</unit>
        <legibleDescription>
          <textElement>
            Maximal controlled reactive power (actual value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Maximal steuerbare Blindleistung (Momentanwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MinActivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATTS</unit>
        <legibleDescription>
          <textElement>
            Minimal controlled active power (actual value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Minimal steuerbare Wirkleistung (Momentanwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MinReactivePower</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOVOLT_AMPERES_REACTIVE</unit>
        <legibleDescription>
          <textElement>
            Minimal controlled reactive power (actual value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Minimal steuerbare Blindleistung (Momentanwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>ActualFillLevel</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATT_HOURS</unit>
        <legibleDescription>
          <textElement>
            Current state of charge of the storage
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Aktueller Ladestand des Speichers
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MinAllowedFillLevel</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATT_HOURS</unit>
        <legibleDescription>
          <textElement>
            Minimal state of charge of the storage (must not be violated)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Minimaler Ladestand des Speichers (darf nicht verletzt werden)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>MaxAllowedFillLevel</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>KILOWATT_HOURS</unit>
        <legibleDescription>
          <textElement>
            Maximal state of charge of the storage (must not be violated)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Maximaler Ladestand des Speichers (darf nicht verletzt werden)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>PercentageCharge</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>PERCENT</unit>
        <arrayLength>8</arrayLength>
        <legibleDescription>
          <textElement>
            Charge profile (relative to maximum value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Ladeprofil (relativ zum Maximalwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>PercentageDischarge</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>O</presenceLevel>
        <dataType>
          <float64 />
        </dataType>
        <unit>PERCENT</unit>
        <arrayLength>8</arrayLength>
        <legibleDescription>
          <textElement>
            Discharge profile (relative to maximum value)
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            Entladeprofil (relativ zum Maximalwert)
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
  </dataPointList>
</FunctionalProfileFrame>