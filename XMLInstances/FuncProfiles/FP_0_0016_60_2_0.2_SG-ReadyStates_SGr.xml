<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<sgr:SGrFunctionalProfileFrame xmlns:sgr="http://www.smartgridready.com/ns/V0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/SGrIncluder.xsd">
     <sgr:releaseNotes>
        <sgr:state>Review</sgr:state>
        <sgr:remarks>This functional profile is in preliminary state. Before implementing external-interfaces or any other
            functionality, the detailed functionality must be verified with the battery manufacturer.
        </sgr:remarks>
        <sgr:changelog>
            <sgr:version>0.1.1</sgr:version>
            <sgr:date>2023-02-12</sgr:date>
            <sgr:author>IBT/cb</sgr:author>
            <sgr:comment>Vorbereitung Soft Start</sgr:comment>
        </sgr:changelog>
    </sgr:releaseNotes>

		<sgr:functionalProfile mroVisibilityIndicator="M" profileName="SG-ReadyStates_bwp">
			<sgr:profileNumber>
				<sgr:specsOwnerId>0</sgr:specsOwnerId>
				<sgr:profileIdentification>HeatPumpControl</sgr:profileIdentification>
				<sgr:subProfileIdent>SG-ReadyStates_bwp</sgr:subProfileIdent>
				<sgr:sgrLevelOfOperation>2</sgr:sgrLevelOfOperation>
				<sgr:versionNumber>
					<sgr:primaryVersionNumber>0</sgr:primaryVersionNumber>
					<sgr:secondaryVersionNumber>2</sgr:secondaryVersionNumber>
					<sgr:subReleaseVersionNumber>1</sgr:subReleaseVersionNumber>
				</sgr:versionNumber>
			</sgr:profileNumber>
			<sgr:fpNameList>
				<sgr:sLV1Name>SG-ReadyStates_bwp</sgr:sLV1Name>
				<sgr:sHPbwpName>sgr:sHPbwpName</sgr:sHPbwpName>
			</sgr:fpNameList>
			<sgr:fpLegibDesc>
				<sgr:textElement>                <![CDATA[	
				<img src="ressources/fp_product_to_cem.svg" style="float:left; padding:0.3em;"/>
                <h4>Heizungswärmepumpen</h4>
                „SG Ready“ ist ein Markenzeichen des Bundesverbands Wärmepumpe e. V.
Es bezeichnet eine Eigenschaft von Wärmepumpen, deren Regelungstechnik
die Einbindung in ein intelligentes Stromnetz
(Smart Grid) ermöglicht
                <p>Heizungswärmepumpen müssen über einen Regler verfügen, der vier Betriebszustände abdeckt:</p>
                <ol>
                <li>Betriebszustand 1 (Schaltzustand, bei Klemmenlösung: 1:0): Dieser Betriebszustand ist kompatibel häufig zu festen
                    Uhrzeiten geschalteten <strong>EVU-Sperre</strong> und umfasst im Normalfall maximal 2 Stunden „harte“ Sperrzeit.</li>
                <li>Betriebszustand 2 (Schaltzustand, bei Klemmenlösungen: 0:0): In dieser Schaltung läuft die Wärmepumpe im energieeffizienten
                    <strong>Normalbetrieb</strong> mit anteiliger Wärmespeicher-Füllung für die maximal zweistündige EVU-Sperre.</li>
                <li>Betriebszustand 3 (Schaltzustand, bei Klemmenlösung 0:1):  In diesem Betriebszustand läuft die Wärmepumpe innerhalb
                    des Reglers im <strong>verstärkten Betrieb</strong> für Raumheizung und Warmwasserbereitung. Es handelt sich dabei
                    nicht um einen definitiven Anlaufbefehl, sondern um eine Einschaltempfehlung entsprechend der heutigen Anhebung.</li>
                <li>Betriebszustand 4 (Schaltzustand, bei Klemmenlösung 1:1):  Hierbei handelt es sich um einen definitiven Anlaufbefehl,
                    insofern dieser im Rahmen der Regeleinstellungen möglich ist. Für diesen Betriebszustand müssen für verschiedene
                    Tarif- und Nutzungsmodelle verschiedene Regelungsmodelle am Regler einstellbar sein:
                    <ul>
                        <li>Variante 1: Die Wärmepumpe (Verdichter) wird aktiv eingeschaltet.</li>
                        <li>Variante 2: Die Wärmepumpe (Verdichter und elektrische Zusatzheizungen) wird aktiv eingeschaltet, optional:
                            höhere Temperatur in den Wärmespeichern</li>
                    </ul>
                </li>
                <p>Optional kann die Raumtemperatur als Führungsgröße für die Regelung der Systemtemperaturen (Vor- bzw. Rücklauftemperatur)
                    herangezogen werden. Eine Sperrung der Wärmepumpe durch einen Raumthermostaten in Abhängigkeit von der Raumtemperatur
                    ist nicht ausreichend.</p>

                <h4>Warmwasserwärmepumpen</h4>
                <p>Warmwasserwärmepumpen müssen über einen Regler verfügen, welches mittels einer automatischen Ansteuerung eine
                    Erhöhung der Warmwasser-Solltemperatur zum Zweck der thermischen Speicherung ermöglicht.</p>

                <p>Hinweis</p>
                <ul>
                    <li>Geräte mit 2 Klemmenkontakte setzen die Klemmen-Datenpunkte um.</li>
                    <li>Geräte mit Modbus oder RestAPI setzen bevorzugt den Enum-basierten Datenpunkt um.</li>
                </ul>
                ]]>
                </sgr:textElement>
				<sgr:language>de</sgr:language>
				<sgr:uri>https://www.waermepumpe.de/normen-technik/sg-ready/</sgr:uri>
			</sgr:fpLegibDesc>
		</sgr:functionalProfile>
		<sgr:dpListElement>
			<sgr:dataPoint datapointName="SGReadyCmd"
				mroVisibilityIndicator="M" rwpDatadirection="RW"
				unit="NONE">
				<sgr:basicDataType>
					<sgr:enum>
						<sgr:sgreadyStateLv2>HP_INTENSIVIED</sgr:sgreadyStateLv2>
					</sgr:enum>
				</sgr:basicDataType>
				<sgr:dpNameList>
					<sgr:sLV1Name>SGReadyCmd</sgr:sLV1Name>
					<sgr:sHPbwpName>Betriebsmodus</sgr:sHPbwpName></sgr:dpNameList>
				<sgr:dpLegibDesc>
					<sgr:textElement> 
                Betriebszustand 1 (HP_LOCKED, bei Klemmenlösung: 1:0): Dieser Betriebszustand ist kompatibel häufig zu festen
                    Uhrzeiten geschalteten EVU-Sperreund umfasst im Normalfall maximal 2 Stunden „harte“ Sperrzeit.
                Betriebszustand 2 (HP_NORMAL bei Klemmenlösung 0:0): In dieser Schaltung läuft die Wärmepumpe im energieeffizienten
                    Normalbetrieb mit anteiliger Wärmespeicher-Füllung für die maximal zweistündige EVU-Sperre.
                Betriebszustand 3 (HP_INTENSIVIED, bei Klemmenlösung 0:1):  In diesem Betriebszustand läuft die Wärmepumpe innerhalb
                    des Reglers im verstärkten Betrieb für Raumheizung und Warmwasserbereitung. Es handelt sich dabei
                    nicht um einen definitiven Anlaufbefehl, sondern um eine Einschaltempfehlung entsprechend der heutigen Anhebung.
                Betriebszustand 4 (HP_FORCED, bei Klemmenlösung 1:1):  Hierbei handelt es sich um einen definitiven Anlaufbefehl,
                    insofern dieser im Rahmen der Regeleinstellungen möglich ist. Für diesen Betriebszustand müssen für verschiedene
                    Tarif- und Nutzungsmodelle verschiedene Regelungsmodelle am Regler einstellbar.
                </sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpLegibDesc>
				<sgr:dpLegibDesc>
					<sgr:textElement>this the command acccording the bwp SG-Ready definition  https://www.waermepumpe.de/normen-technik/sg-ready/</sgr:textElement>
					<sgr:language>en</sgr:language>
				</sgr:dpLegibDesc>
			</sgr:dataPoint>
		</sgr:dpListElement>
		<sgr:dpListElement>
			<sgr:dataPoint datapointName="SGReadyState" mroVisibilityIndicator="M" rwpDatadirection="R" unit="NONE">
				<sgr:basicDataType>
					<sgr:enum>
						<sgr:sgreadyStateLv2>HP_NORMAL</sgr:sgreadyStateLv2>
					</sgr:enum>
				</sgr:basicDataType>
				<sgr:dpNameList>
					<sgr:sLV1Name>SG-ReadyState</sgr:sLV1Name>
					<sgr:sHPbwpName>Statusmeldungen</sgr:sHPbwpName>
				</sgr:dpNameList>
				<sgr:dpLegibDesc>
					<sgr:textElement>SG-ReadyState of the current operation</sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpLegibDesc>
				<sgr:dpPrgDesc>
					<sgr:textElement>SG READY BETRIEBSZUSTAND 
1 (HP_LOCKED):     Die Anlage darf nicht starten. Nur der Frostschutz wird gewährleistet.
2 (HP_NORMAL):     Normaler Betrieb der Anlage. Automatik- / Programmbetrieb gemäß BI der angeschlossenen Wärmepumpe
3 (HP_INTENSIVIED):Forcierter Betrieb der Anlage mit erhöhten Werten für Heiz- und/oder Warmwassertemperatur
4 (HP_FORCED):     Sofortige Ansteuerung der Maximalwerte für Heiz- und Warmwassertemperatur</sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpPrgDesc>
			</sgr:dataPoint>
		</sgr:dpListElement>
		<sgr:dpListElement>
			<sgr:dataPoint datapointName="SGReadyEnabled" unit="NONE" rwpDatadirection="RW" mroVisibilityIndicator="O">
				<sgr:basicDataType>
					<sgr:boolean>true</sgr:boolean>
				</sgr:basicDataType>
				<sgr:dpNameList>
					<sgr:sLV1Name>SGReadyEnabled</sgr:sLV1Name></sgr:dpNameList>
				<sgr:dpLegibDesc>
					<sgr:textElement>Aktivierung der SG-Ready Funktion</sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpLegibDesc>
			</sgr:dataPoint>
		</sgr:dpListElement>
		<sgr:dpListElement>
			<sgr:dataPoint datapointName="SGReadyInp1isON" unit="NONE" rwpDatadirection="RW" mroVisibilityIndicator="O">
				<sgr:basicDataType>
					<sgr:boolean>true</sgr:boolean>
				</sgr:basicDataType>
				<sgr:dpNameList>
					<sgr:sLV1Name>SGReadyInp1isON</sgr:sLV1Name></sgr:dpNameList>
				<sgr:dpLegibDesc>
					<sgr:textElement>Datenpunkt  für die Schaltung eines I/O Kontaktes</sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpLegibDesc>
			</sgr:dataPoint>
		</sgr:dpListElement>
		<sgr:dpListElement>
			<sgr:dataPoint datapointName="SGReadyInp2isON" unit="NONE" rwpDatadirection="RW" mroVisibilityIndicator="O">
				<sgr:basicDataType>
					<sgr:boolean>true</sgr:boolean>
				</sgr:basicDataType>
				<sgr:dpNameList>
					<sgr:sLV1Name>SGReadyInp2isON</sgr:sLV1Name></sgr:dpNameList>
				<sgr:dpLegibDesc>
					<sgr:textElement>Datenpunkt für die Schaltung eines I/O Kontaktes </sgr:textElement>
					<sgr:language>de</sgr:language>
				</sgr:dpLegibDesc>
			</sgr:dataPoint>
		</sgr:dpListElement>
  </sgr:SGrFunctionalProfileFrame>