<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<FunctionalProfileFrame xmlns="http://www.smartgridready.com/ns/V0/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/SGrIncluder.xsd">
  <releaseNotes>
    <state>Draft</state>
    <changeLog>
      <version>1.0.0</version>
      <date>2025-04-14</date>
      <author>SGr/mkr</author>
      <comment>Publication</comment>
    </changeLog>
    <changeLog>
      <version>2.0.0</version>
      <date>2025-11-19</date>
      <author>SGr/mkr</author>
      <comment>New draft based on VSE</comment>
    </changeLog>
  </releaseNotes>
  <functionalProfile>
    <functionalProfileIdentification>
      <specificationOwnerIdentification>0</specificationOwnerIdentification>
      <functionalProfileCategory>DynamicTariff</functionalProfileCategory>
      <functionalProfileType>Supplier</functionalProfileType>
      <levelOfOperation>5</levelOfOperation>
      <versionNumber>
        <primaryVersionNumber>2</primaryVersionNumber>
        <secondaryVersionNumber>0</secondaryVersionNumber>
        <subReleaseVersionNumber>0</subReleaseVersionNumber>
      </versionNumber>
    </functionalProfileIdentification>
    <legibleDescription>
      <textElement>
        <![CDATA[
          <p>The dynamic tariff structure offers a price that can change every 15 minutes.</p>
          <p>It is based on the VSE specification <a href="https://www.strom.ch/de/shop/dynamische-netznutzungstarife-im-verteilnetz-hdn-ch-2025">Dynamic grid usage tariffs in the distribution grid</a>.</p>

          The schema of the JSON response returned by the REST API is

<font size="1"><pre style="color:blue">
{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Dynamic Tariffs",
  "description": "JSON schema for the delivery of dynamic tariff price values",
  "type": "object",
  "properties": {
    "publication_timestamp": {
      "description": "Time of tariff publication",
      "type": "string",
      "oneOf": [
        { "format": "date-time" },
        { "format": "empty" }
      ]
    },
    "prices": {
      "description": "Price values",
      "type": "array",
      "items": { "$ref": "#/$defs/price_item" }
    }
  },
  "additionalProperties": true,
  "required": [
    "publication_timestamp",
    "prices"
  ],
  "$defs": {
    "price_item": {
      "type": "object",
      "properties": {
        "start_timestamp": {
          "description": "Start time stamp of the tariff interval",
          "type": "string",
          "format": "date-time"
        },
        "end_timestamp": {
          "description": "End time stamp of the tariff interval",
          "type": "string",
          "format": "date-time"
        },
        "electricity": {
          "description": "Electricity price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "feed_in": {
          "description": "Feed-in price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "grid": {
          "description": "Grid price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "integrated": {
          "description": "Integrated price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "regional_fees": {
          "description": "Regional fee price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        }
      },
      "additionalProperties": true,
      "required": [
        "start_timestamp",
        "end_timestamp"
      ]
    },
    "price_component_item": {
      "type": "object",
      "properties": {
        "unit": {
          "description": "The tariff unit of the price value",
          "type": "string"
        },
        "value": {
          "description": "The tariff price value",
          "type": "number"
        }
      },
      "additionalProperties": true,
      "required": [
        "unit",
        "value"
      ]
    }
  }
}
</pre></font>

          A JSON example is:

<font size="1"><pre style="color:blue">
{
  "publication_timestamp": "2025-01-01T00:00:00+01:00",
  "prices": [
    {
      "start_timestamp": "2025-01-01T00:00:00+01:00",
      "end_timestamp": "2025-01-01T00:15:00+01:00",
      "integrated": [
        {
          "unit": "CHF_kWh",
          "value": 0.4925
        }
      ]
    },
    {
      "start_timestamp": "2025-01-01T00:15:00+01:00",
      "end_timestamp": "2025-01-01T00:30:00+01:00",
      "integrated": [
        {
          "unit": "CHF_kWh",
          "value": 0.491133
        }
      ]
    }
  ]
}
</pre></font>
        ]]>
      </textElement>
      <language>en</language>
    </legibleDescription>
    <legibleDescription>
      <textElement>
        <![CDATA[
          <p>Die dynamische Tarif-Struktur bietet einen Strompreis, der sich alle 15 Minuten Ã¤ndern kann.</p>
          <p>Sie basiert auf der VSE-Spezifikation <a href="https://www.strom.ch/de/shop/dynamische-netznutzungstarife-im-verteilnetz-hdn-ch-2025">Dynamische Netznutzungstarife im Verteilnetz</a>.</p>

          Das Schema der JSON-Response des REST API ist

<font size="1"><pre style="color:blue">
{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Dynamic Tariffs",
  "description": "JSON schema for the delivery of dynamic tariff price values",
  "type": "object",
  "properties": {
    "publication_timestamp": {
      "description": "Time of tariff publication",
      "type": "string",
      "oneOf": [
        { "format": "date-time" },
        { "format": "empty" }
      ]
    },
    "prices": {
      "description": "Price values",
      "type": "array",
      "items": { "$ref": "#/$defs/price_item" }
    }
  },
  "additionalProperties": true,
  "required": [
    "publication_timestamp",
    "prices"
  ],
  "$defs": {
    "price_item": {
      "type": "object",
      "properties": {
        "start_timestamp": {
          "description": "Start time stamp of the tariff interval",
          "type": "string",
          "format": "date-time"
        },
        "end_timestamp": {
          "description": "End time stamp of the tariff interval",
          "type": "string",
          "format": "date-time"
        },
        "electricity": {
          "description": "Electricity price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "feed_in": {
          "description": "Feed-in price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "grid": {
          "description": "Grid price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "integrated": {
          "description": "Integrated price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        },
        "regional_fees": {
          "description": "Regional fee price values in the interval",
          "type": "array",
          "items": { "$ref": "#/$defs/price_component_item" }
        }
      },
      "additionalProperties": true,
      "required": [
        "start_timestamp",
        "end_timestamp"
      ]
    },
    "price_component_item": {
      "type": "object",
      "properties": {
        "unit": {
          "description": "The tariff unit of the price value",
          "type": "string"
        },
        "value": {
          "description": "The tariff price value",
          "type": "number"
        }
      },
      "additionalProperties": true,
      "required": [
        "unit",
        "value"
      ]
    }
  }
}
</pre></font>

          Ein JSON-Beispiel ist:

<font size="1"><pre style="color:blue">
{
  "publication_timestamp": "2025-01-01T00:00:00+01:00",
  "prices": [
    {
      "start_timestamp": "2025-01-01T00:00:00+01:00",
      "end_timestamp": "2025-01-01T00:15:00+01:00",
      "integrated": [
        {
          "unit": "CHF_kWh",
          "value": 0.4925
        }
      ]
    },
    {
      "start_timestamp": "2025-01-01T00:15:00+01:00",
      "end_timestamp": "2025-01-01T00:30:00+01:00",
      "integrated": [
        {
          "unit": "CHF_kWh",
          "value": 0.491133
        }
      ]
    }
  ]
}
</pre></font>
        ]]>
      </textElement>
      <language>de</language>
    </legibleDescription>
  </functionalProfile>
  <dataPointList>
    <dataPointListElement>
      <dataPoint>
        <dataPointName>TariffSupply</dataPointName>
        <dataDirection>R</dataDirection>
        <presenceLevel>M</presenceLevel>
        <dataType>
          <json />
        </dataType>
        <unit>NONE</unit>
        <parameterList>
          <parameterListElement>
            <name>start_timestamp</name>
            <dataType>
              <string />
            </dataType>
            <parameterDescription>
              <textElement>
                Begin of tariff period to be queried. Format according ISO 8601: YYYY-MM-DDThh:mm:ssTZD.
              </textElement>
              <language>en</language>
              <label>Period start time stamp</label>
            </parameterDescription>
            <parameterDescription>
              <textElement>
                Beginn der abzurufenden Tarifperiode. Format gem. ISO 8601: YYYY-MM-DDThh:mm:ssTZD.
              </textElement>
              <language>de</language>
              <label>Start-Zeitpunkt Periode</label>
            </parameterDescription>
          </parameterListElement>
          <parameterListElement>
            <name>end_timestamp</name>
            <dataType>
              <string />
            </dataType>
            <parameterDescription>
              <textElement>
                End of tariff period to be queried. Format according ISO 8601: YYYY-MM-DDThh:mm:ssTZD.
              </textElement>
              <language>en</language>
              <label>Period end time stamp</label>
            </parameterDescription>
            <parameterDescription>
              <textElement>
                Ende der abzurufenden Tarifperiode. Format gem. ISO 8601: YYYY-MM-DDThh:mm:ssTZD.
              </textElement>
              <language>de</language>
              <label>End-Zeitpunkt Periode</label>
            </parameterDescription>
          </parameterListElement>
        </parameterList>
        <legibleDescription>
          <textElement>
            <![CDATA[
              <p>Tariff list - description see above</p>
            ]]>
          </textElement>
          <language>en</language>
        </legibleDescription>
        <legibleDescription>
          <textElement>
            <![CDATA[
              <p>Tarif-Liste - Beschreibung siehe oben</p>
            ]]>
          </textElement>
          <language>de</language>
        </legibleDescription>
      </dataPoint>
    </dataPointListElement>
  </dataPointList>
</FunctionalProfileFrame>