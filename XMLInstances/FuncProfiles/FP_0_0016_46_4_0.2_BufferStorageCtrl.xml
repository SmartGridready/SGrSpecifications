<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<FunctionalProfileFrame xmlns="http://www.smartgridready.com/ns/V0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/SGrIncluder.xsd">
  <releaseNotes>
    <state>Review</state>
    <remarks>
      This functional profile is in preliminary state. Before implementing external-interfaces or any other
      functionality, the detailed functionality must be verified with the battery manufacturer.
    </remarks>
    <changeLog>
      <version>0.1.1</version>
      <date>2021-04-05</date>
      <author>IBT/cb</author>
      <comment>Vorbereitung beta test</comment>
    </changeLog>
    <changeLog>
      <version>0.2.2</version>
      <date>2022-10-31</date>
      <author>Ergo/sz</author>
      <comment>Finalisierung Go-Live</comment>
    </changeLog>
  </releaseNotes>
  <functionalProfile>
    <functionalProfileIdentification>
      <specificationOwnerIdentification>0</specificationOwnerIdentification>
      <functionalProfileCategory>HeatPumpControl</functionalProfileCategory>
      <functionalProfileType>BufferStorageCtrl</functionalProfileType>
      <levelOfOperation>m</levelOfOperation>
      <versionNumber>
        <primaryVersionNumber>0</primaryVersionNumber>
        <secondaryVersionNumber>2</secondaryVersionNumber>
        <subReleaseVersionNumber>2</subReleaseVersionNumber>
      </versionNumber>
    </functionalProfileIdentification>
    <alternativeNames>
      <sLV1Name>BufferStorageCtrl</sLV1Name>
    </alternativeNames>
    <legibleDescription>
      <textElement>
        Dieses Profil definiert die erweiterten Datenpunkte zum Grundprofil,
        welche zur Steuerung eines Pufferspeichers zur Verfügung gestellt werden. Das
        Pufferspeicher-Profil muss immer in Kombination mit dem Grundprofil der Wärmepumpe
        (3.6.3) bewirtschaftet werden. Es können mehrere Pufferspeicher-Profile definiert
        werden (oder auch gar kein Profil, wenn kein Pufferspeicher vorhanden).
      </textElement>
      <language>de</language>
    </legibleDescription>
  </functionalProfile>
  <dataPointListElement>
    <dataPoint datapointName="HeatWTempStptOffset" presenceLevel="R" dataDirection="RW" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>HeatWTempStptOffset</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>
          Relative Anhebung/Absenkung der Solltemperatur (+/-) für den
          Heiz-Pufferspeicher.
        </textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
    <genericAttributes>
      <maxVal>5.0</maxVal>
      <minVal>-5.0</minVal>
    </genericAttributes>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActBufferState" presenceLevel="O" dataDirection="R" unit="NONE">
      <dataType>
        <enum2bitmapIndex>
          <hovHPActBufferState>HPB_OFF</hovHPActBufferState>
        </enum2bitmapIndex>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActBufferState</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>
          <![CDATA[
            <p>Auslesen des aktuellen Status des Bufferspeichers (BitmapRegister)</p>
            <ol>				
              <li><strong>HPB_OFF:</strong> keine Anforderung, AUS </li>
              <li><strong>HPB_TEMP_LOW:</strong> Anforderung, Temp. tief, PLP aus (Entladeschutz)</li>
              <li><strong>HPB_RUNNING:</strong> Anforderung, Ladung läuft </li>
              <li><strong>HPB_RUN_HOLD:</strong> Anforderung, Sollwert erfüllt, Nachlauf aktiv</li>
              <li><strong>HPB_ON_TARGET:</strong> Anforderung, Sollwert erfüllt</li>
              <li><strong>HPB_RESERVE:</strong>  </li>
              <li><strong>HPB_ENER_COMPULSION:</strong> Energiezwang  </li>
              <li><strong>HPB_SKIMMING:</strong> Abschöpffunktion </li>
              <li><strong>HPB_SGR_INTENSIVIED:</strong> Vorzugsbetrieb SG-Ready bwp</li>
              <li><strong>HPB_SGR_FORCED:</strong> Abnahmezwang SG-Ready bwp </li>
            </ol>
          ]]>
        </textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActHeatBufferTemp" presenceLevel="M" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActHeatBufferTemp</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>Aktuelle Ist-Temperatur des Heiz-Pufferspeichers oben</textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActHeatBufferTempUpper" presenceLevel="O" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActHeatBufferTempUpper</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>Aktuelle Ist-Temperatur des Heiz-Pufferspeichers oben</textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActHeatBufferTempLower" presenceLevel="O" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActHeatBufferTempLower</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>
          Aktuelle Ist-Temperatur des Heiz-Pufferspeichers unten
        </textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActCoolBufferTemp" presenceLevel="O" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActCoolBufferTemp</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>Aktuelle Ist-Temperatur des Kaelte-Pufferspeichers oben</textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActCoolBufferTempUpper" presenceLevel="O" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActCoolBufferTempUpper</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>Aktuelle Ist-Temperatur des Kaelte-Pufferspeichers oben</textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
  <dataPointListElement>
    <dataPoint datapointName="ActCoolBufferTempLower" presenceLevel="O" dataDirection="R" unit="DEGREES_CELSIUS">
      <dataType>
        <float64/>
      </dataType>
      <alternativeNames>
        <sLV1Name>ActCoolBufferTempLower</sLV1Name>
      </alternativeNames>
      <legibleDescription>
        <textElement>Aktuelle Ist-Temperatur des Kaelte-Pufferspeichers unten</textElement>
        <language>de</language>
      </legibleDescription>
    </dataPoint>
  </dataPointListElement>
</FunctionalProfileFrame>